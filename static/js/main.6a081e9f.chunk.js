(this["webpackJsonpdequency-drop"]=this["webpackJsonpdequency-drop"]||[]).push([[0],{208:function(n){n.exports=JSON.parse('{"name":"","description":"","methods":[{"name":"drop","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}},{"name":"optin","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}}]}')},209:function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return l}));var r=e(3),c=e(13),a=e(14),o=e(1),s=e.n(o),i=e(27),u=e.n(i),f=e(221),d=e(217),p=e.n(d),h=e(218),l=function(){function t(n){Object(c.a)(this,t),this.accounts=void 0,this.defaultAccount=void 0,this.network=void 0,this.connector=void 0,this.accounts=[],this.defaultAccount=0,this.network=n,this.connector=new f.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:p.a})}return Object(a.a)(t,[{key:"connect",value:function(){var n=Object(r.a)(s.a.mark((function n(t){var e=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.connector.connected){n.next=2;break}return n.abrupt("return",!0);case 2:return this.connector.createSession(),this.connector.on("connect",(function(n,r){if(n)throw n;var c=r.params[0].accounts;e.accounts=c,t(c)})),this.connector.on("session_update",(function(n,r){if(n)throw n;var c=r.params[0].accounts;e.accounts=c,t(c)})),this.connector.on("disconnect",(function(n,t){if(n)throw n})),n.abrupt("return",new Promise((function(n){var t=setInterval((function(){if(e.connector.connected)return clearInterval(t),void n(!0);e.connector.connect()}),100)})));case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.connector.connected}},{key:"disconnect",value:function(){this.connector.killSession()}},{key:"getDefaultAccount",value:function(){return this.isConnected()?this.connector.accounts[this.defaultAccount]:""}},{key:"signTxn",value:function(){var t=Object(r.a)(s.a.mark((function t(e){var r,c,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDefaultAccount(),c=e.map((function(t){var e=n.from(u.a.encodeUnsignedTransaction(t)).toString("base64");return u.a.encodeAddress(t.from.publicKey)!==r?{txn:e,signers:[]}:{txn:e}})),a=Object(h.formatJsonRpcRequest)("algo_signTxn",[c]),t.next=5,this.connector.sendCustomRequest(a);case 5:return o=t.sent,t.abrupt("return",o.map((function(t,r){return t?{txID:e[r].txID(),blob:new Uint8Array(n.from(t,"base64"))}:{txID:e[r].txID(),blob:new Uint8Array}})));case 7:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()}]),t}()}).call(this,e(16).Buffer)},286:function(n,t,e){},304:function(n,t){},306:function(n,t){},316:function(n,t){},318:function(n,t){},345:function(n,t){},347:function(n,t){},348:function(n,t){},353:function(n,t){},355:function(n,t){},374:function(n,t){},386:function(n,t){},389:function(n,t){},392:function(n,t){},456:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e.n(r),a=e(18),o=(e(286),e(3)),s=e(113),i=e(77),u=e(1),f=e.n(u),d=e(207),p=e(27),h=e.n(p),l=e(208),v=81677804,b=[81677963,81677921,81677898,81677864,81677845],m={network:"TestNet",host:"https://testnet-api.algonode.cloud",token:"",port:""},x=new h.a.ABIInterface(Object(d.a)({},l));function g(n){var t=x.methods.find((function(t){return t.name===n}));if(void 0===t)throw Error("Method undefined: "+n);return t}var j=new h.a.Algodv2(m.token,m.host,m.port);function w(){return(w=Object(o.a)(f.a.mark((function n(t){var e,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=h.a.getApplicationAddress(v),n.next=3,j.accountAssetInformation(e,t).do();case 3:return r=n.sent,n.abrupt("return",r["asset-holding"].amount);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(f.a.mark((function n(t){var e,r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.sendRawTransaction(t).do();case 2:return e=n.sent,r=e.txId,n.next=6,h.a.waitForConfirmation(j,r,2);case 6:return c=n.sent,n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n,t){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(f.a.mark((function n(t,e){var r,c,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h.a.makeBasicAccountTransactionSigner({}),n.next=3,j.getTransactionParams().do();case 3:return c=n.sent,(a=new h.a.AtomicTransactionComposer).addTransaction({txn:h.a.makeAssetTransferTxnWithSuggestedParamsFromObject({assetIndex:t,from:e,to:e,suggestedParams:c,amount:0}),signer:r}),a.addMethodCall({appID:v,method:g("drop"),sender:e,suggestedParams:c,methodArgs:[t],signer:r}),n.abrupt("return",a.buildGroup().map((function(n){return n.txn})));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var I=e(209),S=e(463),T=e(34),C=e(23);var D=function(){var n=c.a.useState(!1),t=Object(i.a)(n,2),e=t[0],r=t[1],a=c.a.useState(new I.a(m.network)),u=Object(i.a)(a,2),d=u[0],p=(u[1],c.a.useState(0)),h=Object(i.a)(p,2),l=h[0],v=h[1],x=parseInt(window.location.pathname.split("/")[1]);if(c.a.useEffect((function(){d.isConnected()||d.connect((function(){}))}),[d]),c.a.useEffect((function(){(function(n){return w.apply(this,arguments)})(x).then((function(n){v(n)}))}),[e]),isNaN(x)||void 0===x){var g,j=[],O=Object(s.a)(b);try{for(O.s();!(g=O.n()).done;){var A=g.value;j.push(Object(C.jsx)("a",{href:"/"+A.toString(),children:A},A))}}catch(E){O.e(E)}finally{O.f()}return Object(C.jsx)("div",{className:"container",children:j})}function D(){return D=Object(o.a)(f.a.mark((function n(t){var e,c,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.isConnected()){n.next=3;break}return alert("Not connected to wallet!"),n.abrupt("return");case 3:return r(!0),n.next=6,k(t,d.getDefaultAccount());case 6:return e=n.sent,n.next=9,d.signTxn(e);case 9:return c=n.sent,n.next=12,y(c.map((function(n){return n.blob})));case 12:a=n.sent,r(!1),console.log(a);case 15:case"end":return n.stop()}}),n)}))),D.apply(this,arguments)}var N,q=[],P=Object(s.a)(b);try{for(P.s();!(N=P.n()).done;){var B=N.value;x===B&&q.push()}}catch(E){P.e(E)}finally{P.f()}return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"content",children:Object(C.jsxs)(S.b,{elevation:T.a.TWO,children:[Object(C.jsxs)("h3",{children:[l," Left"]}),Object(C.jsx)(S.a,{intent:"success",onClick:function(){!function(n){D.apply(this,arguments)}(x)},text:"Drop "+x.toString(),loading:e},"asset-"+x.toString())]})}),Object(C.jsx)("div",{hidden:!0,children:" "})]})};a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(D,{})}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.6a081e9f.chunk.js.map