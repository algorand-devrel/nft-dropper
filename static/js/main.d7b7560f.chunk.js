(this["webpackJsonpdequency-drop"]=this["webpackJsonpdequency-drop"]||[]).push([[0],{219:function(n){n.exports=JSON.parse('{"name":"","description":"","methods":[{"name":"drop","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}},{"name":"optin","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}}]}')},220:function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return l}));var r=e(5),c=e(17),a=e(18),o=e(1),s=e.n(o),i=e(31),u=e.n(i),d=e(232),f=e(228),p=e.n(f),h=e(229),l=function(){function t(n){Object(c.a)(this,t),this.accounts=void 0,this.defaultAccount=void 0,this.network=void 0,this.connector=void 0,this.accounts=[],this.defaultAccount=0,this.network=n,this.connector=new d.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:p.a})}return Object(a.a)(t,[{key:"connect",value:function(){var n=Object(r.a)(s.a.mark((function n(t){var e=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.connector.connected){n.next=2;break}return n.abrupt("return",!0);case 2:return this.connector.createSession(),this.connector.on("connect",(function(n,r){if(n)throw n;var c=r.params[0].accounts;e.accounts=c,t(c)})),this.connector.on("session_update",(function(n,r){if(n)throw n;var c=r.params[0].accounts;e.accounts=c,t(c)})),this.connector.on("disconnect",(function(n,t){if(n)throw n})),n.abrupt("return",new Promise((function(n){var t=setInterval((function(){if(e.connector.connected)return clearInterval(t),void n(!0);e.connector.connect()}),100)})));case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.connector.connected}},{key:"disconnect",value:function(){this.connector.killSession()}},{key:"getDefaultAccount",value:function(){return this.isConnected()?this.connector.accounts[this.defaultAccount]:""}},{key:"signTxn",value:function(){var t=Object(r.a)(s.a.mark((function t(e){var r,c,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDefaultAccount(),c=e.map((function(t){var e=n.from(u.a.encodeUnsignedTransaction(t)).toString("base64");return u.a.encodeAddress(t.from.publicKey)!==r?{txn:e,signers:[]}:{txn:e}})),a=Object(h.formatJsonRpcRequest)("algo_signTxn",[c]),t.next=5,this.connector.sendCustomRequest(a);case 5:return o=t.sent,t.abrupt("return",o.map((function(t,r){return t?{txID:e[r].txID(),blob:new Uint8Array(n.from(t,"base64"))}:{txID:e[r].txID(),blob:new Uint8Array}})));case 7:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()}]),t}()}).call(this,e(20).Buffer)},295:function(n,t,e){},313:function(n,t){},315:function(n,t){},325:function(n,t){},327:function(n,t){},354:function(n,t){},356:function(n,t){},357:function(n,t){},362:function(n,t){},364:function(n,t){},383:function(n,t){},395:function(n,t){},398:function(n,t){},401:function(n,t){},465:function(n,t,e){"use strict";e.r(t);var r=e(0),c=e.n(r),a=e(23),o=(e(295),e(69)),s=e(5),i=e(218),u=e(57),d=e(1),f=e.n(d),p=e(31),h=e.n(p),l=e(219),b=81677804,v=[81677963,81677921,81677898,81677864,81677845],m={network:"TestNet",host:"https://testnet-api.algonode.cloud",token:"",port:""},j=new h.a.ABIInterface(Object(o.a)({},l));function x(n){var t=j.methods.find((function(t){return t.name===n}));if(void 0===t)throw Error("Method undefined: "+n);return t}var O=new h.a.Algodv2(m.token,m.host,m.port);function w(){return(w=Object(s.a)(f.a.mark((function n(t){var e,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=h.a.getApplicationAddress(b),n.next=3,O.accountAssetInformation(e,t).do();case 3:return r=n.sent,n.abrupt("return",r["asset-holding"].amount);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(f.a.mark((function n(t){var e,r,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.sendRawTransaction(t).do();case 2:return e=n.sent,r=e.txId,n.next=6,h.a.waitForConfirmation(O,r,2);case 6:return c=n.sent,n.abrupt("return",c);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n,t){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(f.a.mark((function n(t,e){var r,c,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=h.a.makeBasicAccountTransactionSigner({}),n.next=3,O.getTransactionParams().do();case 3:return c=n.sent,(a=new h.a.AtomicTransactionComposer).addTransaction({txn:h.a.makeAssetTransferTxnWithSuggestedParamsFromObject({assetIndex:t,from:e,to:e,suggestedParams:c,amount:0}),signer:r}),a.addMethodCall({appID:b,method:x("drop"),sender:e,suggestedParams:c,methodArgs:[t],signer:r}),n.abrupt("return",a.buildGroup().map((function(n){return n.txn})));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var I=e(220),S=e(472),T=e(38),D=e(2),C=e(120),N=e(15);function B(n){return Object(N.jsx)(S.d,Object(o.a)(Object(o.a)({},n),{},{children:Object(N.jsx)("div",{className:D.a.DIALOG_BODY,children:Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"content",children:Object(N.jsx)("p",{children:"Open the Pera Wallet to approve the transaction then come back"})}),Object(N.jsx)(C.MobileView,{children:Object(N.jsx)(S.a,{style:{borderRadius:"8px",margin:"20px 0px -30px"},text:"Take me there",href:C.isIOS?"algorand-wc://wc?uri=wc:00e46b69-d0cc-4b3e-b6a2-cee442f97188@1":"wc:00e46b69-d0cc-4b3e-b6a2-cee442f97188@1",intent:"success",large:!0,minimal:!0,outlined:!0,rightIcon:"double-chevron-right"})})]})})}))}var E=function(){var n=c.a.useState(!1),t=Object(u.a)(n,2),e=t[0],r=t[1],a=c.a.useState(new I.a(m.network)),o=Object(u.a)(a,2),d=o[0],p=(o[1],c.a.useState(!1)),h=Object(u.a)(p,2),l=h[0],b=h[1],j=c.a.useState(0),x=Object(u.a)(j,2),O=x[0],y=x[1],A=c.a.useState(0),D=Object(u.a)(A,2),C=D[0],E=D[1],P=c.a.useRef(document.getElementById("hack"));if(window.addEventListener("hashchange",(function(){var n=window.location.hash,t=""===n?0:parseInt(n.split("#")[1]);E(isNaN(t)?0:t)})),c.a.useEffect((function(){b(d.isConnected())}),[d]),c.a.useEffect((function(){0!==C&&function(n){return w.apply(this,arguments)}(C).then((function(n){y(n)}))}),[e,C]),0===C){var R,q=[],M=Object(i.a)(v);try{for(M.s();!(R=M.n()).done;){var J=R.value;q.push(Object(N.jsx)("a",{href:"#"+J.toString(),children:J},J))}}catch(_){M.e(_)}finally{M.f()}return Object(N.jsx)("div",{className:"container",children:q})}function L(){return L=Object(s.a)(f.a.mark((function n(t){var e,c,a,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null===(e=P.current)||void 0===e||e.play(),r(!0),n.next=4,k(t,d.getDefaultAccount());case 4:return a=n.sent,n.next=7,d.signTxn(a);case 7:return o=n.sent,n.next=10,g(o.map((function(n){return n.blob})));case 10:r(!1),null===(c=P.current)||void 0===c||c.pause();case 12:case"end":return n.stop()}}),n)}))),L.apply(this,arguments)}function U(){return(U=Object(s.a)(f.a.mark((function n(){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===(t=P.current)||void 0===t||t.play(),d.connect((function(){var n;b(!0),null===(n=P.current)||void 0===n||n.pause()}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var W=l?Object(N.jsxs)(S.c,{elevation:T.a.TWO,children:[Object(N.jsxs)("h3",{children:[O," Left"]}),Object(N.jsx)(S.b,{intent:"success",onClick:function(){!function(n){L.apply(this,arguments)}(C)},text:"Drop "+C.toString(),loading:e},"asset-"+C.toString())]}):Object(N.jsx)(S.b,{onClick:function(){return U.apply(this,arguments)},children:"Connect"});return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"content",children:W}),Object(N.jsx)("audio",{hidden:!0,id:"hack",ref:P,src:"https://github.com/anars/blank-audio/blob/master/30-seconds-of-silence.mp3?raw=true"}),Object(N.jsx)(B,{isOpen:e})]})};a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(E,{})}),document.getElementById("root"))}},[[465,1,2]]]);
//# sourceMappingURL=main.d7b7560f.chunk.js.map