(this["webpackJsonpdequency-drop"]=this["webpackJsonpdequency-drop"]||[]).push([[0],{126:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return d}));var a=n(35),r=n(3),i=n(1),s=n.n(i),c=n(41);function o(t){return u.apply(this,arguments)}function u(){return(u=Object(r.a)(s.a.mark((function t(e){var n,a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(e,{method:"HEAD"}),t.next=3,fetch(n);case 3:return a=t.sent,r=a.headers.get("Content-Type"),t.abrupt("return",r||"");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(s.a.mark((function t(e){var n,r,i,o,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Request(e),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.blob();case 6:return i=t.sent,t.next=9,i.text();case 9:return o=t.sent,u=JSON.parse(o),t.abrupt("return",new c.a(Object(a.a)({_raw:o},u)));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},223:function(t){t.exports=JSON.parse('{"name":"nft-dropper","description":"Simple abi to support dropping an asset to any caller","methods":[{"name":"drop","description":"Method call to ask for a drop sent to the app caller.","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}},{"name":"optin","description":"Ask the application to opt into the asset we intend to drop. Should be called by application creator.","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}}]}')},224:function(t){t.exports=JSON.parse('{"appId":81677804,"assets":[81677963,81677921,81677898,81677864,81677845],"ipfsGateway":"https://ipfs.io/ipfs/","algod":{"network":"TestNet","host":"https://testnet-api.algonode.cloud","token":"","port":""},"algod_testing":{"network":"sandnet-v1","host":"http://localhost","token":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa","port":"4001"}}')},225:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var a=n(3),r=n(13),i=n(14),s=n(1),c=n.n(s),o=n(31),u=n.n(o),d=n(237),h=n(233),l=n.n(h),f=n(234),p=function(){function e(t){Object(r.a)(this,e),this.accounts=void 0,this.defaultAccount=void 0,this.network=void 0,this.connector=void 0,this.accounts=[],this.defaultAccount=0,this.network=t,this.connector=new d.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:l.a})}return Object(i.a)(e,[{key:"connect",value:function(){var t=Object(a.a)(c.a.mark((function t(e){var n=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.connector.connected){t.next=2;break}return t.abrupt("return",!0);case 2:return this.connector.createSession(),this.connector.on("connect",(function(t,a){if(t)throw t;var r=a.params[0].accounts;n.accounts=r,e(r)})),this.connector.on("session_update",(function(t,a){if(t)throw t;var r=a.params[0].accounts;n.accounts=r,e(r)})),this.connector.on("disconnect",(function(t,e){if(t)throw t})),t.abrupt("return",new Promise((function(t){var e=setInterval((function(){if(n.connector.connected)return clearInterval(e),void t(!0);n.connector.connect()}),100)})));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.connector.connected}},{key:"disconnect",value:function(){this.connector.killSession()}},{key:"getDefaultAccount",value:function(){return this.isConnected()?this.connector.accounts[this.defaultAccount]:""}},{key:"signTxn",value:function(){var e=Object(a.a)(c.a.mark((function e(n){var a,r,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.getDefaultAccount(),r=n.map((function(e){var n=t.from(u.a.encodeUnsignedTransaction(e)).toString("base64");return u.a.encodeAddress(e.from.publicKey)!==a?{txn:n,signers:[]}:{txn:n}})),i=Object(f.formatJsonRpcRequest)("algo_signTxn",[r]),e.next=5,this.connector.sendCustomRequest(i);case 5:return s=e.sent,e.abrupt("return",s.map((function(e,a){return e?{txID:n[a].txID(),blob:new Uint8Array(t.from(e,"base64"))}:{txID:n[a].txID(),blob:new Uint8Array}})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()}).call(this,n(19).Buffer)},300:function(t,e,n){},318:function(t,e){},320:function(t,e){},33:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"e",(function(){return x})),n.d(e,"c",(function(){return w}));var a=n(3),r=n(35),i=n(1),s=n.n(i),c=n(31),o=n.n(c),u=n(223),d=n(224),h=d,l=new o.a.Algodv2(h.algod.token,h.algod.host,h.algod.port),f=new o.a.ABIInterface(Object(r.a)({},u));function p(t){var e=f.methods.find((function(e){return e.name===t}));if(void 0===e)throw Error("Method undefined: "+t);return e}function m(t){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.getAssetByID(e).do();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(s.a.mark((function t(e){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.a.getApplicationAddress(h.appId),t.next=3,l.accountAssetInformation(n,e).do();case 3:return a=t.sent,t.abrupt("return",a["asset-holding"].amount);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(s.a.mark((function t(e){var n,a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.sendRawTransaction(e).do();case 2:return n=t.sent,a=n.txId,t.next=6,o.a.waitForConfirmation(l,a,2);case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(s.a.mark((function t(e,n){var a,r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.a.makeBasicAccountTransactionSigner({}),t.next=3,l.getTransactionParams().do();case 3:return r=t.sent,(i=new o.a.AtomicTransactionComposer).addTransaction({txn:o.a.makeAssetTransferTxnWithSuggestedParamsFromObject({assetIndex:e,from:n,to:n,suggestedParams:r,amount:0}),signer:a}),i.addMethodCall({appID:h.appId,method:p("drop"),sender:n,suggestedParams:r,methodArgs:[e],signer:a}),t.abrupt("return",i.buildGroup().map((function(t){return t.txn})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},330:function(t,e){},332:function(t,e){},359:function(t,e){},361:function(t,e){},362:function(t,e){},367:function(t,e){},369:function(t,e){},388:function(t,e){},400:function(t,e){},403:function(t,e){},406:function(t,e){},41:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h}));var a=n(35),r=n(13),i=n(14),s=n(37),c=n(72),o=n(86);function u(t){var e=t.split("/"),n=Object(s.a)(e,2),a=n[0];n[1];return a}function d(t,e){if("_raw"!==t&&""!==e)return e}var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,t),this._raw=void 0,this.name="",this.description="",this.image="",this.decimals=0,this.unitName="",this.image_integrity="",this.image_mimetype="",this.reserve="",this.background_color="",this.external_url="",this.external_url_integrity="",this.external_url_mimetype="",this.animation_url="",this.animation_url_integrity="",this.animation_url_mimetype="",this.extra_metadata="",this.localization=void 0,this.properties=void 0,Object.assign(this,e)}return Object(i.a)(t,[{key:"toHash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.hasOwnProperty("extra_metadata"),void 0===this._raw&&(this._raw=this.toString(!1));var e=o.sha256.create();return t?e.update(this.toString(!1)):e.update(this._raw),new Uint8Array(e.digest())}},{key:"valid",value:function(){return""!==this.image||""!==this.animation_url||""!==this.external_url}},{key:"toFile",value:function(){var t=new Blob([this.toString()],{type:c.a});return new File([t],c.b)}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return void 0===this._raw&&(this._raw=JSON.stringify(Object(a.a)({},this),d)),JSON.stringify(JSON.parse(this._raw),d,t?2:0)}},{key:"mimeType",value:function(){return this.animation_url_mimetype?this.animation_url_mimetype:this.external_url_mimetype?this.external_url_mimetype:this.image_mimetype?this.image_mimetype:""}},{key:"mediaType",value:function(){return u(this.mimeType())}},{key:"mediaURL",value:function(){return this.animation_url?this.animation_url:this.image}}],[{key:"fromToken",value:function(e){return new t({name:e.name,image:e.url,decimals:e.decimals,reserve:e.reserve})}}]),t}()},470:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(23),s=(n(300),n(35)),c=n(3),o=n(37),u=n(1),d=n.n(u),h=n(33),l=n(225),f=n(477),p=n(42),m=n(2),v=n(125),b=n(41),j=n(10);function x(t){var e=Object(b.b)(t.mimeType),n=Object(j.jsx)("div",{});switch(e){case"audio":n=Object(j.jsx)("audio",{id:"uploaded-media",controls:!0,children:Object(j.jsx)("source",{src:t.mediaSrc,type:t.mimeType})});break;case"video":n=Object(j.jsx)("video",{id:"uploaded-media",controls:!0,children:Object(j.jsx)("source",{src:t.mediaSrc,type:t.mimeType})});break;default:n=Object(j.jsx)("img",{id:"uploaded-media",alt:"NFT",src:t.mediaSrc})}return Object(j.jsx)("div",{className:"media-display content",children:n})}var y=n(72);function w(t){return Object(j.jsx)(f.d,Object(s.a)(Object(s.a)({},t),{},{children:Object(j.jsx)("div",{className:m.a.DIALOG_BODY,children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"content",children:Object(j.jsx)("p",{children:"Open the Pera Wallet to approve the transaction then come back"})}),Object(j.jsx)(v.MobileView,{children:Object(j.jsx)(f.a,{style:{borderRadius:"8px",margin:"20px 0px -30px"},text:"Take me there",href:v.isIOS?"algorand-wc://wc?uri=wc:00e46b69-d0cc-4b3e-b6a2-cee442f97188@1":"wc:00e46b69-d0cc-4b3e-b6a2-cee442f97188@1",intent:"success",large:!0,minimal:!0,outlined:!0,rightIcon:"double-chevron-right"})})]})})}))}var g=function(){var t=r.a.useState(!1),e=Object(o.a)(t,2),n=e[0],a=e[1],i=r.a.useState(new l.a(h.a.algod.network)),s=Object(o.a)(i,2),u=s[0],m=(s[1],r.a.useState(!1)),v=Object(o.a)(m,2),b=v[0],g=v[1],O=r.a.useState(0),k=Object(o.a)(O,2),_=k[0],S=k[1],T=r.a.useState(0),A=Object(o.a)(T,2),I=A[0],N=A[1],R=r.a.useState(void 0),D=Object(o.a)(R,2),z=D[0],C=D[1],F=r.a.useRef(document.getElementById("hack"));if(window.addEventListener("hashchange",(function(){var t=window.location.hash,e=""===t?0:parseInt(t.split("#")[1]);N(isNaN(e)?0:e)})),r.a.useEffect((function(){g(u.isConnected())}),[u]),r.a.useEffect((function(){0!==I&&(y.c.fromAssetId(I).then((function(t){C(t)})),Object(h.b)(I).then((function(t){S(t)})))}),[n,I]),0===I){var U=h.a.assets.map((function(t){return Object(j.jsx)("a",{href:"#"+t.toString(),children:t},t)}));return Object(j.jsx)("div",{className:"container",children:U})}function B(){return B=Object(c.a)(d.a.mark((function t(e){var n,r,i,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(n=F.current)||void 0===n||n.play(),a(!0),t.next=4,Object(h.c)(e,u.getDefaultAccount());case 4:return i=t.sent,t.next=7,u.signTxn(i);case 7:return s=t.sent,t.next=10,Object(h.e)(s.map((function(t){return t.blob})));case 10:a(!1),null===(r=F.current)||void 0===r||r.pause();case 12:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}function J(){return(J=Object(c.a)(d.a.mark((function t(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=F.current)||void 0===e||e.play(),u.connect((function(){var t;g(!0),null===(t=F.current)||void 0===t||t.pause()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var L=void 0===z?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)(x,{mediaSrc:z.mediaURL(),mimeType:z.metadata.mimeType()}),P=void 0===z?I.toString():z.name(),M=b?Object(j.jsxs)(f.c,{elevation:p.a.TWO,children:[Object(j.jsx)("h2",{children:P}),Object(j.jsx)("div",{className:"content",children:L}),Object(j.jsxs)("div",{className:"action",children:[Object(j.jsxs)("h3",{children:[_," Left"]}),Object(j.jsx)(f.b,{intent:"success",onClick:function(){!function(t){B.apply(this,arguments)}(I)},text:"Gib me "+P,loading:n},"asset-"+P)]})]}):Object(j.jsx)(f.b,{onClick:function(){return J.apply(this,arguments)},children:"Connect"});return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"content",children:M}),Object(j.jsx)("audio",{hidden:!0,id:"hack",ref:F,src:"https://github.com/anars/blank-audio/blob/master/30-seconds-of-silence.mp3?raw=true"}),Object(j.jsx)(w,{isOpen:n})]})};i.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))},72:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return v}));var a=n(13),r=n(14),i=n(3),s=n(1),c=n.n(s),o=n(126),u=(n(86),n(41)),d=n(33),h="#arc3",l="metadata.json",f="application/json";function p(t){t.endsWith(h)&&(t=t.slice(0,t.length-h.length));var e=t.split("://");if(e.length<2)return t;switch(e[0]){case"ipfs":return d.a.ipfsGateway+e[1];case"https":return t}return t}var m=function(){function t(e){Object(a.a)(this,t),this.id=void 0,this.name=void 0,this.unitName=void 0,this.url=void 0,this.metadataHash=void 0,this.total=void 0,this.decimals=void 0,this.creator=void 0,this.manager=void 0,this.reserve=void 0,this.clawback=void 0,this.freeze=void 0,this.defaultFrozen=void 0,this.id=e.id||0,this.name=e.name||"",this.unitName=e.unitName||"",this.url=e.url||"",this.metadataHash=e.metadataHash||"",this.total=e.total||0,this.decimals=e.decimals||0,this.creator=e.creator||"",this.manager=e.manager||"",this.reserve=e.reserve||"",this.clawback=e.clawback||"",this.freeze=e.freeze||"",this.defaultFrozen=e.defaultFrozen||!1}return Object(r.a)(t,[{key:"valid",value:function(){return this.id>0&&this.total>0&&""!==this.url}}],[{key:"fromParams",value:function(e){var n=e.params;return new t({id:e.index,name:n.name||"",unitName:n["unit-name"]||"",url:n.url||"",metadataHash:n["metadata-hash"]||"",total:n.total||0,decimals:n.decimals||0,creator:n.creator||"",manager:n.manager||"",reserve:n.reserve||"",clawback:n.clawback||"",freeze:n.freeze||"",defaultFrozen:n["default-frozen"]||!1})}}]),t}(),v=function(){function t(e,n,r){Object(a.a)(this,t),this.token=new m({}),this.metadata=new u.a,this.urlMimeType=void 0,this.metadata=e,this.token=n,this.urlMimeType=r}return Object(r.a)(t,[{key:"valid",value:function(){return void 0!==this.token&&this.token.valid()&&this.metadata.valid()}},{key:"name",value:function(){return this.metadata.valid()?this.metadata.name:void 0!==this.token&&this.token.valid()?this.token.name:""}},{key:"id",value:function(){return void 0!==this.token&&this.token.valid()?this.token.id:0}},{key:"mediaURL",value:function(){if(!this.valid())return"https://dummyimage.com/640x360/fff/aaa";var t=p(this.metadata.mediaURL());return t!==this.metadata.mediaURL()||void 0===this.token?t:this.token.url.endsWith(l)?p(this.token.url.substring(0,this.token.url.length-l.length))+this.metadata.mediaURL():t}}],[{key:"fromAssetId",value:function(){var e=Object(i.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,Object(d.d)(n);case 3:return e.t1=e.sent,e.abrupt("return",e.t0.fromToken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fromToken",value:function(){var e=Object(i.a)(c.a.mark((function e(n){var a,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.fromParams(n),r=p(a.url),e.prev=2,e.next=5,Object(o.b)(r);case 5:i=e.sent,e.t0=i,e.next=e.t0===f?9:16;break;case 9:return e.t1=t,e.next=12,Object(o.a)(r);case 12:return e.t2=e.sent,e.t3=a,e.t4=i,e.abrupt("return",new e.t1(e.t2,e.t3,e.t4));case 16:return e.abrupt("return",new t(u.a.fromToken(a),a,i));case 19:return e.prev=19,e.t5=e.catch(2),e.abrupt("return",new t(new u.a,a));case 22:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}()}]),t}()}).call(this,n(19).Buffer)}},[[470,1,2]]]);
//# sourceMappingURL=main.cc014774.chunk.js.map