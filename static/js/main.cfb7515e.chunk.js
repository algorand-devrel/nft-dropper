(this["webpackJsonpdequency-drop"]=this["webpackJsonpdequency-drop"]||[]).push([[0],{208:function(n){n.exports=JSON.parse('{"name":"","description":"","methods":[{"name":"drop","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}},{"name":"optin","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}}]}')},209:function(n,t,e){"use strict";(function(n){e.d(t,"a",(function(){return h}));var r=e(3),a=e(13),c=e(14),o=e(1),s=e.n(o),i=e(27),u=e.n(i),f=e(221),d=e(217),p=e.n(d),l=e(218),h=function(){function t(n){Object(a.a)(this,t),this.accounts=void 0,this.defaultAccount=void 0,this.network=void 0,this.connector=void 0,this.accounts=[],this.defaultAccount=0,this.network=n,this.connector=new f.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:p.a})}return Object(c.a)(t,[{key:"connect",value:function(){var n=Object(r.a)(s.a.mark((function n(t){var e=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.connector.connected){n.next=2;break}return n.abrupt("return",!0);case 2:return this.connector.createSession(),this.connector.on("connect",(function(n,r){if(n)throw n;var a=r.params[0].accounts;e.accounts=a,t(a)})),this.connector.on("session_update",(function(n,r){if(n)throw n;var a=r.params[0].accounts;e.accounts=a,t(a)})),this.connector.on("disconnect",(function(n,t){if(n)throw n})),n.abrupt("return",new Promise((function(n){var t=setInterval((function(){if(e.connector.connected)return clearInterval(t),void n(!0);e.connector.connect()}),100)})));case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.connector.connected}},{key:"disconnect",value:function(){this.connector.killSession()}},{key:"getDefaultAccount",value:function(){return this.isConnected()?this.connector.accounts[this.defaultAccount]:""}},{key:"signTxn",value:function(){var t=Object(r.a)(s.a.mark((function t(e){var r,a,c,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.getDefaultAccount(),a=e.map((function(t){var e=n.from(u.a.encodeUnsignedTransaction(t)).toString("base64");return u.a.encodeAddress(t.from.publicKey)!==r?{txn:e,signers:[]}:{txn:e}})),c=Object(l.formatJsonRpcRequest)("algo_signTxn",[a]),t.next=5,this.connector.sendCustomRequest(c);case 5:return o=t.sent,t.abrupt("return",o.map((function(t,r){return t?{txID:e[r].txID(),blob:new Uint8Array(n.from(t,"base64"))}:{txID:e[r].txID(),blob:new Uint8Array}})));case 7:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()}]),t}()}).call(this,e(16).Buffer)},286:function(n,t,e){},304:function(n,t){},306:function(n,t){},316:function(n,t){},318:function(n,t){},345:function(n,t){},347:function(n,t){},348:function(n,t){},353:function(n,t){},355:function(n,t){},374:function(n,t){},386:function(n,t){},389:function(n,t){},392:function(n,t){},456:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),c=e(18),o=(e(286),e(3)),s=e(206),i=e(53),u=e(1),f=e.n(u),d=e(207),p=e(27),l=e.n(p),h=e(208),v=81677804,b=[81677963,81677921,81677898,81677864,81677845],m={network:"TestNet",host:"https://testnet-api.algonode.cloud",token:"",port:""},x=new l.a.ABIInterface(Object(d.a)({},h));function j(n){var t=x.methods.find((function(t){return t.name===n}));if(void 0===t)throw Error("Method undefined: "+n);return t}var w=new l.a.Algodv2(m.token,m.host,m.port);function g(){return(g=Object(o.a)(f.a.mark((function n(t){var e,r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=l.a.getApplicationAddress(v),n.next=3,w.accountAssetInformation(e,t).do();case 3:return r=n.sent,n.abrupt("return",r["asset-holding"].amount);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function y(n){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(f.a.mark((function n(t){var e,r,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.sendRawTransaction(t).do();case 2:return e=n.sent,r=e.txId,n.next=6,l.a.waitForConfirmation(w,r,2);case 6:return a=n.sent,n.abrupt("return",a);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function k(n,t){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(f.a.mark((function n(t,e){var r,a,c;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=l.a.makeBasicAccountTransactionSigner({}),n.next=3,w.getTransactionParams().do();case 3:return a=n.sent,(c=new l.a.AtomicTransactionComposer).addTransaction({txn:l.a.makeAssetTransferTxnWithSuggestedParamsFromObject({assetIndex:t,from:e,to:e,suggestedParams:a,amount:0}),signer:r}),c.addMethodCall({appID:v,method:j("drop"),sender:e,suggestedParams:a,methodArgs:[t],signer:r}),n.abrupt("return",c.buildGroup().map((function(n){return n.txn})));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var I=e(209),S=e(463),T=e(34),C=e(22);var N=function(){var n=a.a.useState(!1),t=Object(i.a)(n,2),e=t[0],r=t[1],c=a.a.useState(new I.a(m.network)),u=Object(i.a)(c,2),d=u[0],p=(u[1],a.a.useState(!1)),l=Object(i.a)(p,2),h=l[0],v=l[1],x=a.a.useState(0),j=Object(i.a)(x,2),w=j[0],O=j[1],A=a.a.useState(0),N=Object(i.a)(A,2),D=N[0],q=N[1],B=a.a.useRef(document.getElementById("hack"));a.a.useEffect((function(){v(d.isConnected())}),[d]);var E=window.location.hash;if(a.a.useEffect((function(){var n=""===E?0:parseInt(E.split("#")[1]);0===n||isNaN(n)||(q(n),function(n){return g.apply(this,arguments)}(n).then((function(n){O(n)})))}),[e,D,E]),0===D||isNaN(D)){var P,R=[],J=Object(s.a)(b);try{for(J.s();!(P=J.n()).done;){var M=P.value;R.push(Object(C.jsx)("a",{href:"#"+M.toString(),children:M},M))}}catch(_){J.e(_)}finally{J.f()}return Object(C.jsx)("div",{className:"container",children:R})}function U(){return U=Object(o.a)(f.a.mark((function n(t){var e,a,c,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.isConnected()){n.next=3;break}return alert("Not connected to wallet!"),n.abrupt("return");case 3:return null===(e=B.current)||void 0===e||e.play(),r(!0),n.next=7,k(t,d.getDefaultAccount());case 7:return c=n.sent,n.next=10,d.signTxn(c);case 10:return o=n.sent,n.next=13,y(o.map((function(n){return n.blob})));case 13:r(!1),null===(a=B.current)||void 0===a||a.pause();case 15:case"end":return n.stop()}}),n)}))),U.apply(this,arguments)}function F(){return(F=Object(o.a)(f.a.mark((function n(){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===(t=B.current)||void 0===t||t.play(),d.connect((function(){var n;v(!0),null===(n=B.current)||void 0===n||n.pause()}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var W=h?Object(C.jsxs)(S.b,{elevation:T.a.TWO,children:[Object(C.jsxs)("h3",{children:[w," Left"]}),Object(C.jsx)(S.a,{intent:"success",onClick:function(){!function(n){U.apply(this,arguments)}(D)},text:"Drop "+D.toString(),loading:e},"asset-"+D.toString())]}):Object(C.jsx)(S.a,{onClick:function(){return F.apply(this,arguments)},children:"Connect"});return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"content",children:W}),Object(C.jsx)("audio",{hidden:!0,id:"hack",ref:B,src:"https://github.com/anars/blank-audio/blob/master/30-seconds-of-silence.mp3?raw=true"})]})};c.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(N,{})}),document.getElementById("root"))}},[[456,1,2]]]);
//# sourceMappingURL=main.cfb7515e.chunk.js.map