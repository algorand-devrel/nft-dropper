(this["webpackJsonpdequency-drop"]=this["webpackJsonpdequency-drop"]||[]).push([[0],{219:function(t){t.exports=JSON.parse('{"name":"","description":"","methods":[{"name":"drop","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}},{"name":"optin","args":[{"type":"asset","name":"asset"}],"returns":{"type":"void"}}]}')},220:function(t,n,e){"use strict";(function(t){e.d(n,"a",(function(){return h}));var r=e(5),c=e(17),a=e(18),o=e(1),s=e.n(o),i=e(31),u=e.n(i),d=e(232),f=e(228),p=e.n(f),l=e(229),h=function(){function n(t){Object(c.a)(this,n),this.accounts=void 0,this.defaultAccount=void 0,this.network=void 0,this.connector=void 0,this.accounts=[],this.defaultAccount=0,this.network=t,this.connector=new d.a({bridge:"https://bridge.walletconnect.org",qrcodeModal:p.a})}return Object(a.a)(n,[{key:"connect",value:function(){var t=Object(r.a)(s.a.mark((function t(n){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.connector.connected){t.next=2;break}return t.abrupt("return",!0);case 2:return this.connector.createSession(),this.connector.on("connect",(function(t,r){if(t)throw t;var c=r.params[0].accounts;e.accounts=c,n(c)})),this.connector.on("session_update",(function(t,r){if(t)throw t;var c=r.params[0].accounts;e.accounts=c,n(c)})),this.connector.on("disconnect",(function(t,n){if(t)throw t})),t.abrupt("return",new Promise((function(t){var n=setInterval((function(){if(e.connector.connected)return clearInterval(n),void t(!0);e.connector.connect()}),100)})));case 7:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}()},{key:"isConnected",value:function(){return this.connector.connected}},{key:"disconnect",value:function(){this.connector.killSession()}},{key:"getDefaultAccount",value:function(){return this.isConnected()?this.connector.accounts[this.defaultAccount]:""}},{key:"signTxn",value:function(){var n=Object(r.a)(s.a.mark((function n(e){var r,c,a,o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.getDefaultAccount(),c=e.map((function(n){var e=t.from(u.a.encodeUnsignedTransaction(n)).toString("base64");return u.a.encodeAddress(n.from.publicKey)!==r?{txn:e,signers:[]}:{txn:e}})),a=Object(l.formatJsonRpcRequest)("algo_signTxn",[c]),n.next=5,this.connector.sendCustomRequest(a);case 5:return o=n.sent,n.abrupt("return",o.map((function(n,r){return n?{txID:e[r].txID(),blob:new Uint8Array(t.from(n,"base64"))}:{txID:e[r].txID(),blob:new Uint8Array}})));case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()}]),n}()}).call(this,e(20).Buffer)},295:function(t,n,e){},313:function(t,n){},315:function(t,n){},325:function(t,n){},327:function(t,n){},354:function(t,n){},356:function(t,n){},357:function(t,n){},362:function(t,n){},364:function(t,n){},383:function(t,n){},395:function(t,n){},398:function(t,n){},401:function(t,n){},465:function(t,n,e){"use strict";e.r(n);var r=e(0),c=e.n(r),a=e(23),o=(e(295),e(69)),s=e(5),i=e(218),u=e(57),d=e(1),f=e.n(d),p=e(31),l=e.n(p),h=e(219),b=81677804,v=[81677963,81677921,81677898,81677864,81677845],m={network:"TestNet",host:"https://testnet-api.algonode.cloud",token:"",port:""},j=new l.a.ABIInterface(Object(o.a)({},h));function x(t){var n=j.methods.find((function(n){return n.name===t}));if(void 0===n)throw Error("Method undefined: "+t);return n}var O=new l.a.Algodv2(m.token,m.host,m.port);function w(){return(w=Object(s.a)(f.a.mark((function t(n){var e,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=l.a.getApplicationAddress(b),t.next=3,O.accountAssetInformation(e,n).do();case 3:return r=t.sent,t.abrupt("return",r["asset-holding"].amount);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(f.a.mark((function t(n){var e,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.sendRawTransaction(n).do();case 2:return e=t.sent,r=e.txId,t.next=6,l.a.waitForConfirmation(O,r,2);case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,n){return A.apply(this,arguments)}function A(){return(A=Object(s.a)(f.a.mark((function t(n,e){var r,c,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.a.makeBasicAccountTransactionSigner({}),t.next=3,O.getTransactionParams().do();case 3:return c=t.sent,(a=new l.a.AtomicTransactionComposer).addTransaction({txn:l.a.makeAssetTransferTxnWithSuggestedParamsFromObject({assetIndex:n,from:e,to:e,suggestedParams:c,amount:0}),signer:r}),a.addMethodCall({appID:b,method:x("drop"),sender:e,suggestedParams:c,methodArgs:[n],signer:r}),t.abrupt("return",a.buildGroup().map((function(t){return t.txn})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I=e(220),S=e(472),T=e(38),N=e(2),C=e(120),D=e(16);function B(t){return Object(D.jsx)(S.d,Object(o.a)(Object(o.a)({},t),{},{children:Object(D.jsx)("div",{className:N.a.DIALOG_BODY,children:Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("p",{children:"Open the Pera Wallet to approve the transaction and come back"}),Object(D.jsx)(C.MobileView,{children:Object(D.jsx)(S.a,{style:{borderRadius:"8px",margin:"20px 0px -30px"},text:"Take me there",href:C.isIOS?"algorand-wc://wc?uri=wc:00e46b69-d0cc-4b3e-b6a2-cee442f97188@1":"wc:00e46b69-d0cc-4b3e-b6a2-cee442f97188@1",intent:"success",large:!0,minimal:!0,outlined:!0,rightIcon:"double-chevron-right"})})]})})}))}var P=function(){var t=c.a.useState(!1),n=Object(u.a)(t,2),e=n[0],r=n[1],a=c.a.useState(new I.a(m.network)),o=Object(u.a)(a,2),d=o[0],p=(o[1],c.a.useState(!1)),l=Object(u.a)(p,2),h=l[0],b=l[1],j=c.a.useState(0),x=Object(u.a)(j,2),O=x[0],y=x[1],A=c.a.useState(0),N=Object(u.a)(A,2),C=N[0],P=N[1],R=c.a.useRef(document.getElementById("hack"));c.a.useEffect((function(){b(d.isConnected())}),[d]);var q=window.location.hash;if(c.a.useEffect((function(){var t=""===q?0:parseInt(q.split("#")[1]);0===t||isNaN(t)||(P(t),function(t){return w.apply(this,arguments)}(t).then((function(t){y(t)})))}),[e,C,q]),0===C||isNaN(C)){var E,M=[],J=Object(i.a)(v);try{for(J.s();!(E=J.n()).done;){var U=E.value;M.push(Object(D.jsx)("a",{href:"#"+U.toString(),children:U},U))}}catch(G){J.e(G)}finally{J.f()}return Object(D.jsx)("div",{className:"container",children:M})}function W(){return W=Object(s.a)(f.a.mark((function t(n){var e,c,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.isConnected()){t.next=3;break}return alert("Not connected to wallet!"),t.abrupt("return");case 3:return null===(e=R.current)||void 0===e||e.play(),r(!0),t.next=7,k(n,d.getDefaultAccount());case 7:return a=t.sent,t.next=10,d.signTxn(a);case 10:return o=t.sent,t.next=13,g(o.map((function(t){return t.blob})));case 13:r(!1),null===(c=R.current)||void 0===c||c.pause();case 15:case"end":return t.stop()}}),t)}))),W.apply(this,arguments)}function _(){return(_=Object(s.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(n=R.current)||void 0===n||n.play(),d.connect((function(){var t;b(!0),null===(t=R.current)||void 0===t||t.pause()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var F=h?Object(D.jsxs)(S.c,{elevation:T.a.TWO,children:[Object(D.jsxs)("h3",{children:[O," Left"]}),Object(D.jsx)(S.b,{intent:"success",onClick:function(){!function(t){W.apply(this,arguments)}(C)},text:"Drop "+C.toString(),loading:e},"asset-"+C.toString())]}):Object(D.jsx)(S.b,{onClick:function(){return _.apply(this,arguments)},children:"Connect"});return Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("div",{className:"content",children:F}),Object(D.jsx)("audio",{hidden:!0,id:"hack",ref:R,src:"https://github.com/anars/blank-audio/blob/master/30-seconds-of-silence.mp3?raw=true"}),Object(D.jsx)(B,{isOpen:e})]})};a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(P,{})}),document.getElementById("root"))}},[[465,1,2]]]);
//# sourceMappingURL=main.40f6e021.chunk.js.map